
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="MassiPipe - a data processing pipeline for hyperspectral data acquired in the Massimal project.">
      
      
      
      
        <link rel="prev" href="../reflectance_ref/">
      
      
        <link rel="next" href="../mosaic_ref/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.29">
    
    
      
        <title>IMU data processing and simple georeferencing reference - MassiPipe Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.76a95c52.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#massipipe.georeferencing" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="MassiPipe Documentation" class="md-header__button md-logo" aria-label="MassiPipe Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MassiPipe Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              IMU data processing and simple georeferencing reference
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
      <div class="md-header__source">
        <a href="https://github.com/mh-skjelvareid/massipipe" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="MassiPipe Documentation" class="md-nav__button md-logo" aria-label="MassiPipe Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    MassiPipe Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mh-skjelvareid/massipipe" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../example_usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Example Usage
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../config_ref/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuration reference
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../pipeline_ref/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pipeline reference
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../quicklook_ref/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quicklook reference
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../radiance_ref/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Radiance calibration reference
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../irradiance_ref/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Irradiance calibration reference
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../reflectance_ref/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reflectance calculation reference
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    IMU data processing and simple georeferencing reference
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    IMU data processing and simple georeferencing reference
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#massipipe.georeferencing" class="md-nav__link">
    <span class="md-ellipsis">
      georeferencing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#massipipe.georeferencing.ImuDataParser" class="md-nav__link">
    <span class="md-ellipsis">
      ImuDataParser
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#massipipe.georeferencing.GeoTransformer" class="md-nav__link">
    <span class="md-ellipsis">
      GeoTransformer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#massipipe.georeferencing.SimpleGeoreferencer" class="md-nav__link">
    <span class="md-ellipsis">
      SimpleGeoreferencer
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../mosaic_ref/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Mosaicing reference
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../utils_ref/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Utilities reference
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#massipipe.georeferencing" class="md-nav__link">
    <span class="md-ellipsis">
      georeferencing
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#massipipe.georeferencing.ImuDataParser" class="md-nav__link">
    <span class="md-ellipsis">
      ImuDataParser
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#massipipe.georeferencing.GeoTransformer" class="md-nav__link">
    <span class="md-ellipsis">
      GeoTransformer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#massipipe.georeferencing.SimpleGeoreferencer" class="md-nav__link">
    <span class="md-ellipsis">
      SimpleGeoreferencer
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


  <h1>IMU data processing and simple georeferencing reference</h1>

<div class="doc doc-object doc-module">



<a id="massipipe.georeferencing"></a>
    <div class="doc doc-contents first">



  <div class="doc doc-children">








<div class="doc doc-object doc-class">



<h2 id="massipipe.georeferencing.ImuDataParser" class="doc doc-heading">
            <code>ImuDataParser</code>


</h2>


    <div class="doc doc-contents ">





  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="massipipe.georeferencing.ImuDataParser.read_lcf_file" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_lcf_file</span><span class="p">(</span><span class="n">lcf_file_path</span><span class="p">,</span> <span class="n">convert_to_unix_time</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">time_rel_to_file_start</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

      <p>Read location files (.lcf) generated by Resonon Airborne Hyperspectral imager</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>lcf_file_path</code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[str, <span title="pathlib.Path">Path</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to lcf file. Usually a "sidecar" file to an hyperspectral image
with same "base" filename.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>convert_to_unix_time</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to convert timestamps to UNIX time, which is standard for
many computer / sensor systems.
Timestamps in LCF file are originally in "GPS time"
(see https://en.wikipedia.org/wiki/Global_Positioning_System#Timekeeping)</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>time_rel_to_file_start</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Boolean indicating if first timestamp should be subtracted from each
timestamp, making time relative to start of file.
If True, the value of convert_to_unix_time as no effect.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>lcf_data</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary with keys describing the type of data, and data
formatted as numpy arrays. All arrays have equal length.
The 7 types of data:
- 'time': System time in seconds, relative to some (unknown)
starting point. Similar to "Unix time" (seconds since January 1. 1970),
but values indicate starting point around 1980. The values are
usually offset to make the first timestamp equal to zero.
See flag time_rel_to_file_start.
- 'roll': Roll angle in radians, positive for "right wing up"
- 'pitch': Pitch angle in radians, positive nose up
- 'yaw': (heading) in radians, zero at due North, PI/2 at due East
- 'longitude': Longitude in decimal degrees, negative for west longitude
- 'latitude': Latitude in decimal degrees, negative for southern hemisphere
- 'altitude': Altitude in meters relative to the WGS-84 ellipsiod.</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>Notes</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td></td>            <td>
                  <code>- The LCF file format was shared by Casey Smith at Resonon on February 16. 2021.</code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td></td>            <td>
                  <code>- The LCF specification was inherited from Space Computer Corp.</code>
            </td>
            <td>
              <div class="doc-md-description">
                
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="massipipe.georeferencing.ImuDataParser.read_times_file" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_times_file</span><span class="p">(</span><span class="n">times_file_path</span><span class="p">,</span> <span class="n">time_rel_to_file_start</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

      <p>Read image line timestamps (.times) file generated by Resonon camera</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>times_file_path</code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="pathlib.Path">Path</span>, str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to times file. Usually a "sidecar" file to an hyperspectral image
with same "base" filename.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>time_rel_to_file_start</code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Boolean indicating if times should be offset so that first
timestamp is zero. If not, the original timestamp value is returned.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>times</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Numpy array containing timestamps for every line of the corresponding
hyperspectral image. The timestamps are in units of seconds, and are
relative to when the system started (values are usually within the
0-10000 second range). If time_rel_to_file_start=True, the times
are offset so that the first timestamp is zero.
The first timestamp of the times file and the first timestamp of the
corresponding lcf file (GPS/IMU data) are assumed to the
recorded at exactly the same time. If both sets of timestamps are
offset so that time is measured relative to the start of the file,
the times can be used to calculate interpolated GPS/IMU values
for each image line.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="massipipe.georeferencing.ImuDataParser.interpolate_lcf_to_times" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">interpolate_lcf_to_times</span><span class="p">(</span><span class="n">lcf_data</span><span class="p">,</span> <span class="n">image_times</span><span class="p">,</span> <span class="n">convert_to_list</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

      <p>Interpolate LCF data to image line times</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>lcf_data</code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dictionary with data read from *.lcf file</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>image_times</code></td>
            <td>
                  <code><span title="numpy.typing.NDArray">NDArray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Array of time stamps from *.times file</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>convert_to_list</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to convert interpolated LCF data to list
(useful for saving data as JSON).
If False, interpolated values in lcf_data_interp are
formatted as NDArray.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>lcf_data_interp</code></td>            <td>
                  <code>dict[list | <span title="numpy.typing.NDArray">NDArray</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Version of lcf_data with all measured values
interpolated to image timestamps.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="massipipe.georeferencing.ImuDataParser.read_and_save_imu_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read_and_save_imu_data</span><span class="p">(</span><span class="n">lcf_path</span><span class="p">,</span> <span class="n">times_path</span><span class="p">,</span> <span class="n">json_path</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Parse <em>.lcf and </em>.times files and save as JSON</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>lcf_path</code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="pathlib.Path">Path</span>, str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to *.lcf (IMU data) file</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>times_path</code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="pathlib.Path">Path</span>, str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to *.times (image line timestamps) file</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>json_path</code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="pathlib.Path">Path</span>, str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to output JSON file</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="massipipe.georeferencing.GeoTransformer" class="doc doc-heading">
            <code>GeoTransformer</code>


</h2>


    <div class="doc doc-contents ">




<p><span class="doc-section-title">Attributes:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="massipipe.georeferencing.GeoTransformer.u_alongtrack">u_alongtrack</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unit vector (easting, northing) pointing along flight direction</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="massipipe.georeferencing.GeoTransformer.u_acrosstrack">u_acrosstrack</span></code></td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Unit vector (easting, northing) pointing left relative to
flight direction. The direction is chosen to match that of
the image coordinate system: Origin in upper left corner,
down (increasing line number) corresponds to positive along-track
direction, right (increasing sample number) corresponds to
positive cross-track direction.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>




  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="massipipe.georeferencing.GeoTransformer.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">imu_data_path</span><span class="p">,</span> <span class="n">image_header_path</span><span class="p">,</span> <span class="n">camera_opening_angle</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pitch_offset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">roll_offset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">altitude_offset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">utm_x_offset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">utm_y_offset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">assume_square_pixels</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>imu_data_path</code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="pathlib.Path">Path</span>, str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to JSON file with IMU data</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>image_header_path</code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="pathlib.Path">Path</span>, str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to header for hyperspectral image</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>camera_opening_angle</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Full opening angle of camera, in degrees.
Corresponds to angle between rays hitting leftmost and
rightmost pixels of image.</p>
              </div>
            </td>
            <td>
                  <code>36.5</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>pitch_offset</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>How much forward the camera is pointing relative to nadir (degrees)</p>
              </div>
            </td>
            <td>
                  <code>0.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>roll_offset</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>How much to the right ("right wing up") the camera is pointing
relative to nadir (degrees).</p>
              </div>
            </td>
            <td>
                  <code>0.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>altitude_offset</code></td>
            <td>
                  <code>float</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Offset added to the estimated altitude. If the UAV was higher
in reality than that estimated by the GeoTransformer
object, add a positive altitude_offset.</p>
              </div>
            </td>
            <td>
                  <code>0.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>utm_x_offset</code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[float, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>How far from the real position the IMU data position is, measured in
meters. If the IMU data is too far east, utm_x_offset is positive.
If the IMU data is too far north, utm_y_offset is positive.
The offset is assumed to be constant across a dataset.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>utm_y_offset</code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[float, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>How far from the real position the IMU data position is, measured in
meters. If the IMU data is too far east, utm_x_offset is positive.
If the IMU data is too far north, utm_y_offset is positive.
The offset is assumed to be constant across a dataset.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>assume_square_pixels</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to assume that the original image was acquired with
flight parameters (flight speed, frame rate, altitude)
that would produce square pixels. If true, the altitude of the
camera is estimated from the shape of the image and the (along-track)
swath length. This can be useful in cases where absolute altitude
measurement of the camera IMU is not very accurate.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="massipipe.georeferencing.GeoTransformer.get_image_transform" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_image_transform</span><span class="p">(</span><span class="n">ordering</span><span class="o">=</span><span class="s1">&#39;alphabetical&#39;</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Get 6-element affine transform for image</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>ordering</code></td>
            <td>
                  <code>(str, {alphabetical, worldfile})</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If 'alphabetical', return A,B,C,D,E,F
If 'worldfile', return A,D,B,E,C,F
See https://en.wikipedia.org/wiki/World_file</p>
              </div>
            </td>
            <td>
                  <code>&#34;alphabetical&#34;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>transform</code></td>            <td>
                  <code>tuple[float]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>6-element affine transform</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">Raises:</span></p>
    <table>
      <thead>
        <tr>
          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>ValueError</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>If invalid ordering parameter is used</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="massipipe.georeferencing.GeoTransformer.get_envi_map_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_envi_map_info</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Create ENVI "map info" string, including image rotation</p>
<p>ENVI header files support a "map info" field which describes the geotransform
for the image. The field has up to 11 parameters:</p>
<ol>
<li>Projection name</li>
<li>Reference (tie point) pixel x location (in file coordinates)</li>
<li>Reference (tie point) pixel y location (in file coordinates)</li>
<li>Pixel easting</li>
<li>Pixel northing</li>
<li>x pixel size (on ground)</li>
<li>y pixel size (on ground)</li>
<li>Projection zone (UTM only)</li>
<li>North or South (UTM only)</li>
<li>Datum</li>
<li>Units</li>
</ol>
<p>NV5 / ENVI does not natively support geotransforms that are rotated. However,
GDAL supports the use of specifying a rotation argument ("rotation=<degrees>")
as the 11th argument (Units). This method creates a map_info string with this
rotation syntax.</p>
<p>Returns:
map_info: str
    String with map info formatted in ENVI header style.
    Example: "{UTM, 1, 1, 581226.666764, 7916192.56364, 5.2, 5.2,
             4, North, WGS-84, rotation=42}"</p>


<details class="references" open>
  <summary>References</summary>
  <p>https://www.nv5geospatialsoftware.com/docs/ENVIHeaderFiles.html
https://github.com/ornldaac/AVIRIS-NG_ENVI-rotatedgrid
https://gis.stackexchange.com/questions/229952/rotate-envi-hyperspectral-imagery-with-gdal
https://trac.osgeo.org/gdal/ticket/1778#comment:8
https://github.com/OSGeo/gdal/blob/master/frmts/raw/envidataset.cpp#L1393</p>
</details>
    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="massipipe.georeferencing.GeoTransformer.save_image_geotransform" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">save_image_geotransform</span><span class="p">(</span><span class="n">geotransform_json_path</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Save geotransform and related parameters as JSON file</p>
<p>The following parameters are saved to file:
utm_epsg: int
    Integer EPSG code describing UTM zone (CRS)
geotransform: tuple
    6-element tuple (a,b,c,d,e,f) with affine transform
map_info: str
    "map info" string in ENVI header format
gsd_alongtrack: float
    Ground sampling distance (resolution) along flight track, in meters
gsd_acrosstrack: float
    Ground sampling distance (resolution) across flight track, in meters
swath_length: float
    Length of image swath (along track), in meters
swath_width: float
    Width of image swath (across track), in meters
rotation_deg: float
    Rotation of image in degrees, clockwise, +/- 180 degrees</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>geotransform_json_path</code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="pathlib.Path">Path</span>, str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to JSON file</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="massipipe.georeferencing.SimpleGeoreferencer" class="doc doc-heading">
            <code>SimpleGeoreferencer</code>


</h2>


    <div class="doc doc-contents ">





  <div class="doc doc-children">









<div class="doc doc-object doc-function">


<h3 id="massipipe.georeferencing.SimpleGeoreferencer.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">rgb_only</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">rgb_wl</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">nodata_value</span><span class="o">=-</span><span class="mi">9999</span><span class="p">,</span> <span class="n">reproject_to_nonrotated_transform</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>rgb_only</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Whether to only output an RGB version of the hyperspectral image.
If false, the entire hyperspectral image is used. Note that
this typically creates very large files that some programs
(e.g. QGIS) can struggle to read.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>rgb_wl</code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[tuple[float, float, float], None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Wavelengths (in nm) to use for red, green and blue.
If None, default values are used.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>nodata_value</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Value to insert in place of invalid pixels.
Pixels which contain "all zeros" are considered invalid.</p>
              </div>
            </td>
            <td>
                  <code>-9999</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>reproject_to_nonrotated_transform</code></td>
            <td>
                  <code>bool</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>The simplest way to georeference a raster image is to apply an affine
transform, which scales and rotates the raster to "place it on the map".
However, raster images with rotated transforms ("a" and "d" are nonzero)
cannot be merged into a single mosaic using rasterio / GDAL merge.
Reprojecting the raster to a non-rotated transform (using the same CRS)
allows images to be saved later. Note that with this operation, the original
shape of the raster image is lost.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>resolution</code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[float, None]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Resolution for reprojected raster with non-rotated transform
If None, the mean of the along-track and across-track resolutions
in the rotated raster is used.</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="massipipe.georeferencing.SimpleGeoreferencer.georeference_hyspec_save_geotiff" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">georeference_hyspec_save_geotiff</span><span class="p">(</span><span class="n">image_path</span><span class="p">,</span> <span class="n">geotransform_path</span><span class="p">,</span> <span class="n">geotiff_path</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Georeference hyperspectral image and save as GeoTIFF</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>image_path</code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="pathlib.Path">Path</span>, str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to hyperspectral image header.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>geotransform_path</code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="pathlib.Path">Path</span>, str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to JSON file containing geotransform information.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>geotiff_path</code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="pathlib.Path">Path</span>, str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to (output) GeoTIFF file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="massipipe.georeferencing.SimpleGeoreferencer.create_geotiff_profile" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_geotiff_profile</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">geotransform_parameters</span><span class="p">,</span> <span class="n">crs_epsg</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Create profile for writing image as geotiff using rasterio</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>image</code></td>
            <td>
                  <code><span title="numpy.typing.NDArray">NDArray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to image header (used to get image shape)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>geotransform_parameters</code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[list, tuple]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>6-element tuple describing affine transform from pixel coordinates
to geographic coordinates. Ordered (A,B,C,D,E,F).
See rasterio.transform.Affine</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>crs_epsg</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>EPSG code for CRS used.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>profile</code></td>            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>GeoTIFF profile to be used when saving GeoTIFF image.</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="massipipe.georeferencing.SimpleGeoreferencer.calculate_non_rotated_geotiff_profile" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculate_non_rotated_geotiff_profile</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">resolution_decimals</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Create rasterio geotiff profile to reproject raster to non-rotated transform</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>src</code></td>
            <td>
                  <code><span title="rasterio.DatasetReader">DatasetReader</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>"Source" dataset opened in rasterio with rotated geotransform,
i.e. "b" and "d" in geotransform are non-zero.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>resolution_decimals</code></td>
            <td>
                  <code>int</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Number of decimals in calculated resolution for non-rotated geotiff
Default is 2, corresponding to setting the resolution for UTM
coordinates to an integer number of centimeters.</p>
              </div>
            </td>
            <td>
                  <code>2</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">Returns:</span></p>
    <table>
      <thead>
        <tr>
<th>Name</th>          <th>Type</th>
          <th>Description</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dst_profile</code></td>            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>GeoTIFF profile for reprojection to non-rotated transform</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="massipipe.georeferencing.SimpleGeoreferencer.write_geotiff" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">write_geotiff</span><span class="p">(</span><span class="n">geotiff_path</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">wavelengths</span><span class="p">,</span> <span class="n">geotiff_profile</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

      <p>Write image as GeoTIFF</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Default</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code>geotiff_path</code></td>
            <td>
                  <code><span title="typing.Union">Union</span>[<span title="pathlib.Path">Path</span>, str]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Path to (output) GeoTIFF file</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>image</code></td>
            <td>
                  <code><span title="numpy.typing.NDArray">NDArray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Image to write, shape (n_lines, n_samples, n_bands)</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>wavelengths</code></td>
            <td>
                  <code><span title="numpy.typing.NDArray">NDArray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Wavelengths (in nm) corresponding to each image band.
The wavelengths are used to set the descption of each band
in the GeoTIFF file.</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code>geotiff_profile</code></td>
            <td>
                  <code>dict</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Dict with GeoTIFF parameters ("profile"), typically created using
create_geotiff_profile()</p>
              </div>
            </td>
            <td>
                <em>required</em>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Notes</summary>
  <p>Rasterio / GDAL requires the image to be ordered "bands first", e.g. shape
(bands, lines, samples). However, the default used by e.g. the 'spectral'
library is (lines, samples, bands), and this convention should be used
consistenly to avoid bugs. This function moves the band axis directly before
writing.</p>
</details>
    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
    
  </body>
</html>